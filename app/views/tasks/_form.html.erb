<% if @task.errors %>
  <% @task.errors.messages.each do |message| %>
    <p class='text-danger'><%= message %></p>
  <% end %>
<% end %>
<%= form_with model: @task do |f| %>
  <%= f.label :title %>
  <%= f.text_field :title, class: 'form-control' %>
  <%= f.label :details %>
  <%= f.text_field :details, class: 'form-control' %>
  <% unless @task.persisted? %>
    <%= f.submit "Create Task", class: 'btn btn-primary mt-2' %>
  <% else %>
    <div class="form-check mt-2">
      <%= f.label :completed, class: 'form-check-label' %>
      <%= f.check_box :completed, class: 'form-check-input'  %>
    </div>
    <%= f.submit "Update Task", class: 'btn btn-primary mt-2' %>
  <% end %>
<% end %>
<%= link_to 'Back to list', tasks_path %>
